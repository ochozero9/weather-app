import{j as e,g as j,c as f}from"./index-B9mpFH1q.js";import{r as o}from"./vendor-icons-Cd-g2bcL.js";import"./vendor-react-Cgg2GOmP.js";const N={gfs_seamless:"GFS (NOAA)",ecmwf_ifs04:"ECMWF",icon_seamless:"ICON (DWD)",gem_seamless:"GEM (Canada)",jma_seamless:"JMA (Japan)",meteofrance_seamless:"Météo-France",ensemble:"Ensemble"};function g({latitude:t,longitude:l,unit:i}){const[r,m]=o.useState(null),[h,c]=o.useState(!1),[a,p]=o.useState(0);if(o.useEffect(()=>{async function s(){c(!0);try{const n=await j(t,l,a);m(n)}catch(n){console.error("Failed to fetch model comparison:",n)}finally{c(!1)}}s()},[t,l,a]),h)return e.jsx("div",{className:"model-comparison loading",children:"Loading model data..."});if(!r)return null;const u=[...r.models.filter(s=>s.temperature!==null&&s.precipitation!==null&&s.wind_speed!==null),r.ensemble],x=s=>s==null?"N/A":`${f(s,i).toFixed(1)} °${i}`,d=(s,n)=>s==null?"N/A":`${s.toFixed(1)} ${n}`;return e.jsxs("div",{className:"model-comparison",children:[e.jsxs("div",{className:"comparison-header",children:[e.jsx("h3",{children:"Model Comparison"}),e.jsxs("select",{value:a,onChange:s=>p(Number(s.target.value)),className:"hour-selector",children:[e.jsx("option",{value:0,children:"Now"}),e.jsx("option",{value:6,children:"+6 hours"}),e.jsx("option",{value:12,children:"+12 hours"}),e.jsx("option",{value:24,children:"+24 hours"}),e.jsx("option",{value:48,children:"+48 hours"}),e.jsx("option",{value:72,children:"+72 hours"})]})]}),e.jsxs("table",{className:"comparison-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Model"}),e.jsx("th",{children:"Temperature"}),e.jsx("th",{children:"Precipitation"}),e.jsx("th",{children:"Wind"})]})}),e.jsx("tbody",{children:u.map(s=>e.jsxs("tr",{className:s.model_name==="ensemble"?"ensemble-row":"",children:[e.jsx("td",{className:"model-name",children:N[s.model_name]||s.model_name}),e.jsx("td",{children:x(s.temperature)}),e.jsx("td",{children:d(s.precipitation,"mm")}),e.jsx("td",{children:d(s.wind_speed,"km/h")})]},s.model_name))})]})]})}export{g as ModelComparison};
